---
title: "HTTPSμ™€ SSL/TLS Handshake: μ•”νΈν™” ν†µμ‹ μ μ •μ„"
date: 2025-12-28
draft: false
topic: "Security"
tags: ["HTTPS", "SSL", "TLS", "Cryptography", "Network"]
categories: ["Backend Deep Dive"]
description: "RSAμ™€ AESμ μ΅°ν™”, κ·Έλ¦¬κ³  TLS 1.3 ν•Έλ“μ…°μ΄ν¬ κ³Όμ •μ„ μ‹κ°μ μΌλ΅ μ΄ν•΄ν•λ‹¤."
module: "security"
study_order: 803
quizzes:
  - question: "HTTPSμ—μ„ λ€μΉ­ν‚¤μ™€ λΉ„λ€μΉ­ν‚¤λ¥Ό ν•¨κ» μ‚¬μ©ν•λ”(ν•μ΄λΈλ¦¬λ“ μ•”νΈν™”) μ΄μ λ”?"
    options:
      - "λΉ„λ€μΉ­ν‚¤λ§ μ‚¬μ©ν•λ©΄ λ” μ•μ „ν•΄μ„"
      - "λΉ„λ€μΉ­ν‚¤λ΅ μ„Έμ…ν‚¤(λ€μΉ­ν‚¤)λ¥Ό μ•μ „ν•κ² κµν™ν•κ³ , μ‹¤μ  ν†µμ‹ μ€ λΉ λ¥Έ λ€μΉ­ν‚¤λ΅ μ•”νΈν™”ν•κΈ° μ„ν•΄"
      - "λ€μΉ­ν‚¤λ§ μ‚¬μ©ν•λ©΄ λ” λΉ λ¥΄κΈ° λ•λ¬Έ"
      - "λ²•μ  μ”κµ¬μ‚¬ν•­"
    answer: 1
    explanation: "λΉ„λ€μΉ­ν‚¤λ” ν‚¤ κµν™ λ¬Έμ λ¥Ό ν•΄κ²°ν•μ§€λ§ μ•½ 1000λ°° λλ¦½λ‹λ‹¤. μ²μ ν•Έλ“μ…°μ΄ν¬μ—μ„λ§ λΉ„λ€μΉ­ν‚¤λ¥Ό μ“°κ³ , μ΄ν›„ ν†µμ‹ μ€ λΉ λ¥Έ λ€μΉ­ν‚¤(AES)λ΅ μ•”νΈν™”ν•©λ‹λ‹¤."

  - question: "TLS 1.3μ΄ TLS 1.2λ³΄λ‹¤ ν•Έλ“μ…°μ΄ν¬κ°€ λΉ λ¥Έ μ΄μ λ”?"
    options:
      - "μ•”νΈν™”λ¥Ό ν•μ§€ μ•μ•„μ„"
      - "Round Tripμ„ μ¤„μ—¬ 1-RTT(0-RTT μ¬μ—°κ²°)λ΅ ν•Έλ“μ…°μ΄ν¬λ¥Ό μ™„λ£ν•κΈ° λ•λ¬Έ"
      - "λ” μ•½ν• μ•”νΈν™”λ¥Ό μ‚¬μ©ν•΄μ„"
      - "μ„λ²„κ°€ λ” λΉ¨λΌμ„"
    answer: 1
    explanation: "TLS 1.2λ” 2-RTTκ°€ ν•„μ”ν–μ§€λ§, TLS 1.3μ€ Client Helloμ— Key Shareλ¥Ό ν¬ν•¨ν•μ—¬ 1-RTTλ΅ μ¤„μ€μµλ‹λ‹¤. μ¬μ—°κ²° μ‹ 0-RTTλ„ κ°€λ¥ν•©λ‹λ‹¤."

  - question: "CA(μΈμ¦ κΈ°κ΄€)μ™€ Chain of Trustμ μ—­ν• μ€?"
    options:
      - "μ•”νΈν™” μ†λ„λ¥Ό λ†’μΈλ‹¤."
      - "μ„λ²„ μΈμ¦μ„κ°€ μ§„μ§μΈμ§€ μ‹ λΆ°ν•  μ μλ” κΈ°κ΄€(CA)μ΄ μ„λ…ν•μ—¬, μ¤‘κ°„μ κ³µκ²©μ„ λ°©μ§€ν•λ‹¤."
      - "λΉ„λ°€λ²νΈλ¥Ό μ €μ¥ν•λ‹¤."
      - "λ„¤νΈμ›ν¬ μ†λ„λ¥Ό λ†’μΈλ‹¤."
    answer: 1
    explanation: "ν•΄μ»¤κ°€ κ°€μ§ μ„λ²„λ¥Ό λ§λ“¤μ–΄λ„ μ‹ λΆ°ν•  μ μλ” CAμ μ„λ…μ΄ μ—†μΌλ©΄ λΈλΌμ°μ €κ°€ κ²½κ³ ν•©λ‹λ‹¤. λΈλΌμ°μ €λ” λ―Έλ¦¬ λ‚΄μ¥λ Root CA λ©λ΅μΌλ΅ μΈμ¦μ„λ¥Ό κ²€μ¦ν•©λ‹λ‹¤."

  - question: "Diffie-Hellman ν‚¤ κµν™μ΄ RSA ν‚¤ κµν™λ³΄λ‹¤ λ³΄μ•μƒ μ λ¦¬ν• μ μ€?"
    options:
      - "λ” λΉ λ¥΄κΈ° λ•λ¬Έ"
      - "Forward Secrecy: μ„λ²„ κ°μΈν‚¤κ°€ μ μ¶λμ–΄λ„ κ³Όκ±° ν†µμ‹ μ€ λ³µνΈν™”ν•  μ μ—†λ‹¤."
      - "κµ¬ν„μ΄ μ‰¬μ›μ„"
      - "μ°¨μ΄ μ—†λ‹¤"
    answer: 1
    explanation: "RSA ν‚¤ κµν™μ€ μ„λ²„ κ°μΈν‚¤λ΅ μ„Έμ…ν‚¤λ¥Ό μ•”νΈν™”ν•΄μ„, κ°μΈν‚¤ μ μ¶ μ‹ κ³Όκ±° νΈλν”½λ„ λ³µνΈν™”λ©λ‹λ‹¤. DHλ” λ§¤λ² μ„μ‹ ν‚¤λ¥Ό μƒμ„±ν•μ—¬ μ΄λ¥Ό λ°©μ§€ν•©λ‹λ‹¤."

  - question: "λΈλΌμ°μ € μ£Όμ†μ°½μ— μλ¬Όμ‡ π”’κ°€ ν‘μ‹λλ” μλ―Έλ”?"
    options:
      - "μ‚¬μ΄νΈκ°€ 100% μ•μ „ν•λ‹¤."
      - "μ„λ²„μ™€μ ν†µμ‹ μ΄ TLSλ΅ μ•”νΈν™”λμ–΄ μκ³ , μ„λ²„ μΈμ¦μ„κ°€ μ ν¨ν• CAμ— μν•΄ μ„λ…λμ—λ‹¤."
      - "μ„λ²„κ°€ λΉ λ¥΄λ‹¤λ” μλ―Έ."
      - "κ΄‘κ³ κ°€ μ—†λ‹¤λ” μλ―Έ."
    answer: 1
    explanation: "μλ¬Όμ‡ λ” 'μ•”νΈν™” ν†µμ‹  + μ ν¨ν• μΈμ¦μ„'λ¥Ό μλ―Έν•μ§€λ§, μ‚¬μ΄νΈ λ‚΄μ© μμ²΄κ°€ μ•μ „ν•λ‹¤λ” λ³΄μ¥μ€ μ•„λ‹™λ‹λ‹¤. ν”Όμ‹± μ‚¬μ΄νΈλ„ HTTPSλ¥Ό μ‚¬μ©ν•  μ μμµλ‹λ‹¤."
---

## μ΄ κΈ€μ—μ„ μ–»λ” κ²ƒ

- **λ€μΉ­ν‚¤**μ™€ **λΉ„λ€μΉ­ν‚¤** μ•”νΈν™”κ°€ HTTPSμ—μ„ μ–΄λ–»κ² μ„μ—¬ μ“°μ΄λ”μ§€ μ΄ν•΄ν•©λ‹λ‹¤.
- **TLS 1.3 Handshake** (1-RTT) κ³Όμ •μ„ λ‹¤μ΄μ–΄κ·Έλ¨μΌλ΅ μ„¤λ…ν•  μ μμµλ‹λ‹¤.
- **CA(μΈμ¦ κΈ°κ΄€)**μ™€ **Chain of Trust**μ κ°λ…μ„ μ΅μµλ‹λ‹¤.

## 0) HTTPλ” μ™ μ„ν—ν•κ°€?

HTTPλ” ν…μ¤νΈ(Plain Text)λ΅ ν†µμ‹ ν•©λ‹λ‹¤.
μ™€μ΄μ–΄μ‚¬ν¬(Wireshark) κ°™μ€ ν΄λ΅ ν¨ν‚·μ„ κ°μ²­ν•λ©΄, λ΅κ·ΈμΈν•  λ• λ³΄λ‚Έ λΉ„λ°€λ²νΈκ°€ κ·Έλ€λ΅ λ³΄μ…λ‹λ‹¤.

**HTTPS**λ” μ΄ HTTP λ©”μ‹μ§€λ¥Ό **SSL/TLS ν”„λ΅ν† μ½**λ΅ κ°μ‹Έμ„ μ•”νΈν™”ν•©λ‹λ‹¤.

## 1) λ€μΉ­ν‚¤ vs λΉ„λ€μΉ­ν‚¤ (ν•µμ‹¬: ν•μ΄λΈλ¦¬λ“)

| λ°©μ‹ | μ„¤λ… | μ¥μ  | λ‹¨μ  |
|:---|:---|:---|:---|
| **λ€μΉ­ν‚¤ (Symmetric)** | μ•”νΈν™”/λ³µνΈν™” ν‚¤κ°€ **κ°™μ** (AES) | μ†λ„κ°€ λ§¤μ° λΉ λ¦„ | ν‚¤λ¥Ό μ–΄λ–»κ² μƒλ€λ°©μ—κ² μ•μ „ν•κ² μ „λ‹¬ν•  κ²ƒμΈκ°€? (Key Exchange Problem) |
| **λΉ„λ€μΉ­ν‚¤ (Asymmetric)** | κ³µκ°ν‚¤(Public)λ΅ μ•”νΈν™”, κ°μΈν‚¤(Private)λ΅ λ³µνΈν™” (RSA) | ν‚¤ κ³µμ  λ¶ν•„μ” (κ³µκ°ν‚¤λ” μ¤λ„ λ¨) | μ†λ„κ°€ λ§¤μ° λλ¦Ό (λ€μΉ­ν‚¤λ³΄λ‹¤ μ•½ 1000λ°° λλ¦Ό) |

**HTTPSμ μ „λµ (ν•μ΄λΈλ¦¬λ“ μ•”νΈν™”):**
1.  μ²μ μ—°κ²°ν•  λ•λ§ **λΉ„λ€μΉ­ν‚¤**λ¥Ό μ‚¬μ©ν•΄μ„,
2.  μ•μΌλ΅ μ‚¬μ©ν•  **λ€μΉ­ν‚¤(Session Key)**λ¥Ό μ•μ „ν•κ² κµν™ν•κ³ ,
3.  μ΄ν›„ ν†µμ‹ μ€ λΉ λ¥Έ **λ€μΉ­ν‚¤**λ΅ μ•”νΈν™”ν•©λ‹λ‹¤.

## 2) TLS 1.2 vs TLS 1.3 Handshake

TLS 1.3μ€ ν•Έλ“μ…°μ΄ν¬ κ³Όμ •μ„ νκΈ°μ μΌλ΅ μ¤„μ€μµλ‹λ‹¤(1-RTT).

### TLS 1.3 Handshake (κ°„μ†ν™”)

```mermaid
sequenceDiagram
    participant Client
    participant Server

    Note over Client: Client Hello + Key Share (λ‚΄ κ³µκ°ν‚¤)
    Client->>Server: 1. Client Hello (Supported Ciphers, Random, Diffie-Hellman PubKey)
    
    Note over Server: Server Hello + Key Share (λ‚΄ κ³µκ°ν‚¤) + Cert
    Server->>Client: 2. Server Hello (Cipher Selected, Random, DH PubKey, Certificate)
    Server->>Client: 3. Finished (Encrypted)
    
    Note over Client: Key Derivation (Session Key μƒμ„±)
    Client->>Client: CA μΈμ¦μ„ κ²€μ¦ & λ€μΉ­ν‚¤(μ„Έμ…ν‚¤) μƒμ„±
    
    Client->>Server: 4. Finished (Encrypted with Session Key)
    
    Note over Client,Server: β… Secure Tunnel Established (AES Encrypted)
    Client->>Server: GET /login (Encrypted)
    Server-->>Client: 200 OK (Encrypted)
```

**κ³Όμ • μ”μ•½:**
1.  **Client Hello**: "λ‚ TLS 1.3 μ§€μ›ν•΄. λ‚΄ μ„μ‹ κ³µκ°ν‚¤(Diffie-Hellman) λ°›μ•„."
2.  **Server Hello**: "κ·Έλ. λ‚΄ μΈμ¦μ„λ‘ λ‚΄ κ³µκ°ν‚¤λ„ λ°›μ•„."
3.  **κ²€μ¦ & ν‚¤ μƒμ„±**: ν΄λΌμ΄μ–ΈνΈλ” μ„λ²„ μΈμ¦μ„λ¥Ό CA(Root Certificate)λ΅ κ²€μ¦ν•κ³ , μ„λ΅ κµν™ν• κ³µκ°ν‚¤λ¥Ό μ΅°ν•©ν•΄ **κ³µλ™μ λΉ„λ°€ν‚¤(Session Key)**λ¥Ό λ§λ“­λ‹λ‹¤.

## 3) Chain of Trust (μ‹ λΆ° μ‚¬μ¬)

λΈλΌμ°μ €λ” μ–΄λ–»κ² μ„λ²„κ°€ λ³΄λ‚Έ μΈμ¦μ„λ¥Ό λ―Ώμ„κΉμ”?
λΈλΌμ°μ €(OS)μ—λ” μ΄λ―Έ μ „ μ„Έκ³„μ μΌλ΅ μ‹ λΆ°λ°›λ” **Root CA**λ“¤μ κ³µκ°ν‚¤κ°€ λ‚΄μ¥λμ–΄ μμµλ‹λ‹¤.

```mermaid
graph BT
    EndEntity[My Server Cert<br/>(google.com)] -->|Signed by| Intermediate[Intermediate CA<br/>(GTS CA 1C3)]
    Intermediate -->|Signed by| Root[Root CA<br/>(DigiCert Global Root)]
    
    Root -.->|Built-in Trust| Browser[Browser/OS<br/>Trusted Store]

    style Root fill:#e8f5e9,stroke:#2e7d32,stroke-width:2px
    style Intermediate fill:#fff9c4,stroke:#fbc02d
    style EndEntity fill:#e1f5fe,stroke:#0277bd
```

μ„λ²„ μΈμ¦μ„λ” μ¤‘κ°„ μΈμ¦κΈ°κ΄€(Intermediate CA)μ΄ μ„λ…ν•κ³ , μ¤‘κ°„ μΈμ¦κΈ°κ΄€μ€ λ£¨νΈ μΈμ¦κΈ°κ΄€(Root CA)μ΄ μ„λ…ν•©λ‹λ‹¤.
λΈλΌμ°μ €λ” λ£¨νΈ μΈμ¦κΈ°κ΄€μ μ„λ…μ„ ν™•μΈν•¨μΌλ΅μ¨, μ΄ μ—°κ²°κ³ λ¦¬(Chain)λ¥Ό λ”°λΌ μµμΆ… μ„λ²„ μΈμ¦μ„λ¥Ό μ‹ λΆ°ν•©λ‹λ‹¤.

## μ”μ•½

- **HTTPS**λ” λΉ„λ€μΉ­ν‚¤λ΅ λ€μΉ­ν‚¤λ¥Ό κµν™ν•κ³ , λ€μΉ­ν‚¤λ΅ λ°μ΄ν„°λ¥Ό μ•”νΈν™”ν•©λ‹λ‹¤.
- **TLS 1.3**μ€ ν•Έλ“μ…°μ΄ν¬ νμλ¥Ό μ¤„μ—¬ μ—°κ²° μ†λ„λ¥Ό λ†’μ€μµλ‹λ‹¤.
- **CA(μΈμ¦ κΈ°κ΄€)** μ‹μ¤ν… λ•λ¶„μ— μ°λ¦¬λ” μ²μ λ°©λ¬Έν•λ” μ‚¬μ΄νΈλ„ μ‹ λΆ°ν•  μ μμµλ‹λ‹¤.

## λ‹¤μ λ‹¨κ³„

- **Phase 13 μ™„λ£**: λ³΄μ• κΈ°μ΄λ¥Ό λ¨λ‘ λ‹¤λ¤μµλ‹λ‹¤.
- **Phase 14**: λ¨λ λ°±μ—”λ“ κ°λ°μ μ¤ν™ (gRPC, Redis, Kafkaμ μ‹¬ν™” μ΄μ)μΌλ΅ λ„μ–΄κ°‘λ‹λ‹¤.
